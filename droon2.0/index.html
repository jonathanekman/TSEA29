<! Doctype html>
<html>
	<head>
		<script src="dron4.0.js"> </script>

	</head>
		<style>

			div.p{
				background-color: rgb(0, 139, 127);
				width: 65px;
				margin: 1px;
				float: left;
				text-align: center;
			}

			div.i{
				background-color: rgb(77, 228, 213);
				width: 65px;
				margin: 1px;
				float: left;
				text-align: center;
			}

			div.d{
				background-color: rgb(157, 223, 217);
				width: 65px;
				margin: 1px;
				float: left;
				text-align: center;
			}

			div.space{
				width: 20px;
				margin: 1px;
				float: left;
			}


			div.speed{
				position: absolute;
				top: 65px;
				left: 670px;
				background-color: rgb(126, 24, 24);
				width: 140px;
				margin: 1px;
				text-align: center;
			}

			div.startstyle{
				position: absolute;
				size: 12px;
				background-color: rgb(35, 218, 35);
				border: 2px solid rgb(46, 37, 37);
				top: 260px;
				left: 7px;
				width: 120px;
				height: 150px;
				text-align: center;
			}


			div.mapvalues{
				position: absolute;
				background-color: rgb(163, 223, 178);
				border: 2px solid rgb(38, 35, 206);
				top: 260px;
				left: 670px;
				width: 140px;
				font-size: 9px;
				width: 136px;
        		height: 200px;
				}

			#button{
				height: 50px;
				width: 50px;

			}

			canvas{
        		position: absolute;
        		border: 2px solid rgb(38, 35, 206);
        		background-color: rgb(163, 223, 178);
        		top: 260px;
        		left: 450px;
        		width: 200px;
        		height: 200px;
        	}

		</style>



















	<body>
		<h1>DROON Callibrator</h1>


<!-- ---------------------------------XP----------------------------------------- -->
<div class="p">
	<div id="xp+">
		<div class="x.container">
					<h1>XP</h1>
					<h1><span id="number1">0</span></h1>
		</div>
		<Button onclick="window.location.href='/xpu'">Upp</Button>
	</div>
	<div id="xp-">
		<Button onclick="window.location.href='/xpn'">Down</Button>
	</div>
</div>
<!-- ---------------------------------XI----------------------------------------- -->
<div class="i">
		<div id="xi+">	
				<div class="y.container">
						<h1>XI</h1>
						<h1><span id="number2">0</span></h1>
				</div>	
			<Button onclick="window.location.href='/xiu'">Upp</Button>
		</div>
		<div id="xi-">	
			<Button onclick="window.location.href='/xin'">Down</Button>
		</div>
</div>
<!-- ---------------------------------XD----------------------------------------- -->
<div class="d">

		<div id="xd+">
	
				<div class="z.container">
						<h1>XD</h1>
						<h1><span id="number3">0</span></h1>
				</div>	
			<Button onclick="window.location.href='/xdu'">Upp</Button>
		</div>
		<div id="xd-">
			<Button onclick="window.location.href='/xdn'">Down</Button>
		</div>	
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
</div>
<div class="space">
</div>
<!-- ---------------------------------YP----------------------------------------- -->
<div class="p">
		<div id="yp+">	
				<div class="x.container">
						<h1>YP</h1>
						<h1><span id="number4">0</span></h1>
				</div>
				<Button onclick="window.location.href='/ypu';">Upp</Button>
		</div>
		<div id="yp-">
				<Button onclick="window.location.href='/ypn'">Down</Button>
		</div>
	</div>
	<!-- ---------------------------------YI----------------------------------------- -->
	<div class="i">
			<div id="yi+">
					<div class="y.container">
							<h1>YI</h1>
							<h1><span id="number5">0</span></h1>
					</div>
					<Button onclick="window.location.href='/yiu'">Upp</Button>
			</div>
			<div id="yi-">
					<Button onclick="window.location.href='/yin'">Down</Button>
			</div>
	</div>
	<!-- ---------------------------------YD----------------------------------------- -->
	<div class="d">	
			<div id="yd+">	
					<div class="z.container">
							<h1>YD</h1>
							<h1><span id="number6">0</span></h1>
					</div>	
					<Button onclick="window.location.href='/ydu'">Upp</Button>
			</div>
			<div id="yd-">
					<Button onclick="window.location.href='/ydn'">Down</Button>
			</div>
	</div>

<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
</div>
<div class="space">
</div>
<!-- ---------------------------------ZP----------------------------------------- -->
<div class="p">
		<div id="zp+">
				<div class="x.container">
						<h1>ZP</h1>
						<h1><span id="number7">0</span></h1>
				</div>
				<Button onclick="window.location.href='/zpu'">Upp</Button>
		</div>
		<div id="zp-">
				<Button onclick="window.location.href='/zpn'">Down</Button>
		</div>
	</div>
	<!-- ---------------------------------ZI----------------------------------------- -->
	<div class="i">	
			<div id="zi+">		
					<div class="y.container">
							<h1>ZI</h1>
							<h1><span id="number8">0</span></h1>
					</div>		
					<Button onclick="window.location.href='/ziu'">Upp</Button>
			</div>		
			<div id="zi-">		
					<Button onclick="window.location.href='/zin'">Down</Button>
			</div>			
	</div>
	<!-- ---------------------------------ZD----------------------------------------- -->
	<div class="d">	
			<div id="zd+">		
					<div class="z.container">
							<h1>ZD</h1>
							<h1><span id="number9">0</span></h1>
					</div>	
					<Button onclick="window.location.href='/zdu'">Upp</Button>
			</div>		
			<div id="zd-">		
					<Button onclick="window.location.href='/zdn'">Down</Button>
			</div>			
	</div>
<!-- -------------------------------SPEEEEEEEEEED------------------------------------ -->
<!-- <div> -->
<div class="speed">
		<div id="speed+">	
				<div class="z.container">
						<h1>SPEED</h1>
						<h1><span id="number10">0</span></h1>
				</div>	
				<Button onclick="window.location.href='/speed.upp'">Upp</Button>
		</div>	
		<div id="speed-">	
				<Button onclick="window.location.href='/speed.ner'">Down</Button>
		</div>	
	</div>
<!-- </div> -->
<!-- -------------------------------------------------------------------------- -->
<div class="mapvalues">
	<h1>Position X:</h1>
		<h1><span id="xposition">0</span></h1>
	<h1>Position Y:</h1>
		<h1><span id="yposition">0</span></h1>
	<h1>Position Z:</h1>
		<h1><span id="zposition">0</span></h1>

</div>
<!-- -------------------------------------------------------------------------- -->

<div class="startstyle" id="on">
	<h1 id="start">START</h1>
	<!-- <button id="button" onclick="window.location.href='/start', start()"></button> -->
	<button id="button" onclick="start()"></button>

</div>
<!-- -------------------------------------------------------------------------- -->

<!-- -------------------------------------------------------------------------- -->
<canvas id="map">
</canvas>
	<img id="droneimg" src="https://www.jing.fm/clipimg/full/168-1684972_drone-silhouette-png-free-download-drone-png.png"
style="border: none; position:absolute; left: 452px; top: 260px; width:40px; height: 20px;"> <!-- utgÃ¥ngsposition-->
	</img>
<!-- -------------------------------------------------------------------------- -->


		<script>
				var xhttp = new XMLHttpRequest();
				var data = 0;
				var xp = 0;
				var xi = 0;
				var xd = 0;     
				var yp = 0;     
				var yi = 0;     
				var yd = 0; 
				var zp = 0;
				var zi = 0;
				var zd = 0;
				var speed = 0;
				var xpos = 0;
				var ypos = 0;
				var zpos = 0;				
				var xtagpos = 0;
				var ytagpos = 0;

				function moveimg(){
					var xscale = ((xpos + 5000) * 0.016); 
					var yscale = ((ypos + 5000) * 0.018); 


					var xfors = xscale + 452;   //xfors = xpos + offset
					var yfors = yscale + 260;   //yfors = ypos + offset

					document.getElementById("droneimg").style.top = yfors + "px";   
					document.getElementById("droneimg").style.left = xfors + "px";  
					document.getElementById("xposition").innerHTML = xpos;
					document.getElementById("yposition").innerHTML = ypos;
					document.getElementById("zposition").innerHTML = zpos;
                };




			function fetchvalue()
			{
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) { //readystate 4 = request is finished and response is ready. status 200 = "OK"
						
						//   document.getElementById("number10").innerHTML = this.responseText;
						var data = this.responseText;

						data = data.substring(1);					//remove first "[" in string
						data = data.substring(0, data.length -1);   //remove last "]" in string
						var array = data.split(",");


						document.getElementById("number1").innerHTML = array[0];
						document.getElementById("number2").innerHTML = array[1];
						document.getElementById("number3").innerHTML = array[2];
						document.getElementById("number4").innerHTML = array[3];
						document.getElementById("number5").innerHTML = array[4];
						document.getElementById("number6").innerHTML = array[5];
						document.getElementById("number7").innerHTML = array[6];
						document.getElementById("number8").innerHTML = array[7];
						document.getElementById("number9").innerHTML = array[8];
						document.getElementById("number10").innerHTML = array[9];
						xpos = parseInt(array[10]);
						ypos = parseInt(array[11]);
						zpos = parseInt(array[12]);
						xtagpos = parseInt(array[13]);
						ytagpos = parseInt(array[14]);
						
						// console.log(data);
					}
				};
				xhttp.open("GET", "/update", true);	//gets pidtot
				xhttp.send();
			};


			setInterval(() =>		//1sec dilay for fetchvalue 
			{
			fetchvalue();
			moveimg();
			}, 50);












			function start(){
				if (document.getElementById("start").innerHTML == "START")
				{
						if (confirm("Are you really sure?")){
							startfunction();
						} 
				}
				else
				{
					document.getElementById("start").innerHTML = "START";
					document.getElementById("on").style.backgroundColor = "rgb(35, 218, 35)";  
					window.location.href='/start'
				};
			};

			function startfunction(){
				document.getElementById("start").innerHTML = "STOP";
				document.getElementById("on").style.backgroundColor = "red";  
				window.location.href='/stop'
			};


		</script>

	</body>

</html>

